# Ecossistema de Serviços do Azure: De IaaS a PaaS

## Projeto Instancias de Banco de Dados no Azure

### Modelos de Serviço: IaaS, PaaS e SaaS

A nuvem Azure oferece um vasto ecossistema de serviços projetados para atender a qualquer necessidade de negócio, e estes são categorizados em diferentes modelos de serviço que definem o nível de gerenciamento e responsabilidade. O modelo mais fundamental é o **IaaS (Infraestrutura como Serviço)**, onde o Azure fornece os blocos de construção básicos, como poder de computação, armazenamento e rede. Neste modelo, você tem o máximo de controle, sendo responsável por gerenciar o sistema operacional, os tempos de execução e os dados, enquanto a Microsoft gerencia a infraestrutura física subjacente. Acima dele está a **PaaS (Plataforma como Serviço)**, que abstrai a complexidade da infraestrutura. Aqui, o Azure gerencia o sistema operacional, as atualizações e a manutenção, permitindo que os desenvolvedores se concentrem exclusivamente na construção e no gerenciamento de suas aplicações e dados. Por fim, o **SaaS (Software como Serviço)** é um modelo de consumo, onde se utiliza um software completo e gerenciado pelo provedor, como o Microsoft 365, acessado via internet sem qualquer preocupação com a infraestrutura ou a plataforma.

### IaaS em Ação: Detalhes da Criação de Máquinas Virtuais (VMs)

Ao optar pelo modelo IaaS, a **criação de uma máquina virtual (VM)** é a tarefa mais comum. O processo começa com a escolha de uma imagem, que funciona como um modelo para a VM. Existem diferentes **tipos de imagens**: as do **Azure Marketplace** são pré-configuradas e otimizadas, oferecidas pela Microsoft e por parceiros, incluindo diversas versões de Windows Server e distribuições Linux, muitas vezes com software pré-instalado como SQL Server. Alternativamente, você pode criar suas próprias **imagens personalizadas** a partir de uma VM já configurada, o que é ideal para padronizar e acelerar a implantação de ambientes idênticos. Juntamente com a imagem, são provisionados **os discos**: toda VM possui um disco de sistema operacional para os arquivos do SO, um disco temporário para dados de curta duração (que não são persistentes) e a opção de adicionar múltiplos discos de dados para armazenar informações de aplicações. Estes discos vêm em diferentes níveis de desempenho, desde HDDs padrão para cargas de trabalho menos sensíveis até SSDs Premium e Ultra Disks para aplicações que exigem altíssima performance e baixa latência.

Para que a VM se comunique, ela precisa estar inserida em uma **rede virtual (VNet)**, que é o seu perímetro de rede privado e isolado no Azure. A VNet pode ser segmentada em sub-redes para organizar e isolar recursos, e sua segurança é controlada por **Network Security Groups (NSGs)**, que atuam como firewalls, definindo regras de tráfego de entrada e saída. A proteção dos dados dentro da VM e em outros serviços é crucial, e o serviço **Azure Backup** oferece uma solução nativa e gerenciada. Ele permite configurar políticas para automatizar a criação de cópias de segurança de VMs inteiras, bancos de dados e arquivos, armazenando esses backups de forma segura e geograficamente distante da fonte original para garantir a recuperação em caso de falhas ou desastres.

### Garantindo a Durabilidade: Modelos de Redundância de Armazenamento

No nível de armazenamento, a resiliência dos dados é garantida pelo **modelo de redundância de armazenamento**. O Azure replica automaticamente seus dados para protegê-los. O modelo mais básico é o **LRS (Armazenamento com Redundância Local)**, que mantém três cópias dos dados dentro de um único datacenter. O **ZRS (Armazenamento com Redundância de Zona)** eleva a proteção ao distribuir três cópias entre diferentes Zonas de Disponibilidade na mesma região, protegendo contra a falha de um datacenter inteiro. Para proteção contra desastres regionais, o **GRS (Armazenamento com Redundância Geográfica)** replica os dados para uma segunda região a centenas de quilômetros de distância.

### PaaS Detalhado: Criando um Banco de Dados com Azure SQL

Subindo para o mundo PaaS, a **criação de um banco de dados SQL** com o **Azure SQL Database** exemplifica os benefícios desse modelo. Em vez de criar uma VM e instalar o SQL Server, você provisiona um **servidor SQL lógico**, que não é uma máquina dedicada, mas sim um ponto de extremidade administrativo para gerenciar um grupo de bancos de dados. Dentro desse detalhe do servidor, você define a região, as credenciais e as regras de firewall. Em seguida, cria um ou mais bancos de dados, escolhendo um modelo de compra (**vCore ou DTU**) que define os recursos de computação e armazenamento. O Azure cuida de todas as tarefas de gerenciamento, como atualizações, patching, alta disponibilidade e backups automáticos, liberando a equipe para focar na otimização e no uso dos dados.
